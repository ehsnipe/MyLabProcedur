<h2>Procedurer</h2>
<br/>
<!--<div class="example-header">
    <mat-form-field>
      <input matInput (keyup)="applyFilter($event.target.value)" placeholder="Filter">
    </mat-form-field>
</div> -->
<div *ngIf=dataSource>
<div class="example-container mat-elevation-z8">
  <div class="example-header">
    <mat-form-field>
      <input matInput (keyup)="applyFilter($event.target.value)" [(ngModel)]="myFilterValue" placeholder="Filter">
    </mat-form-field>
  </div>
  <div>
    <mat-form-field>
      <mat-select placeholder="Organomrade" [formControl]="organs" multiple>
        <mat-option *ngFor="let organ of organList" [value]="organ.viewValue" (click)="applyOrganSelection()">{{organ.viewValue}}</mat-option>
      </mat-select>
    </mat-form-field>
  </div>
<mat-table [dataSource]=dataSource  matSort >
  
 <!-- Position Column -->
 <ng-container matColumnDef="SourceGroupDescription">
        <mat-header-cell *matHeaderCellDef mat-sort-header> Organomrade </mat-header-cell>
        <mat-cell *matCellDef="let element"> {{element.SourceGroupDescription}} </mat-cell>
      </ng-container>
   <!-- Kod Organområde Column -->
 <ng-container matColumnDef="SourceGroupCode">
    <mat-header-cell *matHeaderCellDef mat-sort-header> Kod Organområde </mat-header-cell>
    <mat-cell *matCellDef="let element"> {{element.SourceGroupCode}} </mat-cell>
  </ng-container>
          <!-- Procedure Column -->
          <ng-container matColumnDef="Procedure">
                <mat-header-cell *matHeaderCellDef mat-sort-header> Procedure </mat-header-cell>
                <mat-cell *matCellDef="let element"> {{element.ProcedurBeskrivning}} </mat-cell>
              </ng-container>
        
             <!-- Kod Procedur Column -->
        <ng-container matColumnDef="ProcedurKod">
            <mat-header-cell *matHeaderCellDef mat-sort-header> Kod Procedur </mat-header-cell>
            <mat-cell *matCellDef="let element"> {{element.ProcedurKod}} </mat-cell>
          </ng-container>


                        <!-- RegelTypeName Column -->
      <ng-container matColumnDef="RegelTypeName">
            <mat-header-cell *matHeaderCellDef> RegelTypeName </mat-header-cell>
            <mat-cell *matCellDef="let element"> {{element.RegelTypeName}} </mat-cell>
          </ng-container>

          <!-- RegelTypeName Column -->
        <ng-container matColumnDef="WhatToCount">
            <mat-header-cell *matHeaderCellDef> Räkna antal </mat-header-cell>
            <mat-cell *matCellDef="let element"> {{element.WhatToCount}} </mat-cell>
          </ng-container>
                <!-- RegionNamn Column -->
      <ng-container matColumnDef="RegionNamn">
            <mat-header-cell *matHeaderCellDef> RegionNamn </mat-header-cell>
            <mat-cell *matCellDef="let element"> {{element.RegionNamn}} </mat-cell>
          </ng-container>

      <mat-header-row *matHeaderRowDef="displayedColumns"></mat-header-row>

      <mat-row *matRowDef="let row; columns: displayedColumns;"
      [ngClass]="{
        'highlight': selectedRowIndex == row.ProcedurerId
      }"
      (click)="highlight(row)"></mat-row>

</mat-table>
</div>
<p>Visar antal rader:{{dataSource.filteredData.length}} <i *ngIf=isFilterUsed>
  (av {{dataSource.data.length}})</i> </p>
</div>